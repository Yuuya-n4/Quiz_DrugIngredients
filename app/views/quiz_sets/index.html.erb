<div class="w-full px-1 sm:px-1">

  <div class="note-background rounded-lg shadow-md relative p-2 sm:p-5 mb-6">

    <!-- フラッシュメッセージ -->
    <% flash.each do |type, message| %>
      <div class="<%= type == 'alert' ? 'bg-red-100 border-red-400 text-red-700 max-w-4xl mx-auto' : 'bg-blue-100 border-blue-400 text-blue-700 max-w-4xl mx-auto' %> px-4 py-3 border rounded-lg mb-4">
        <p><%= message %></p>
      </div>
    <% end %>

    <div class="text-center md:mb-16 my-6 md:my-12 md:mb-16">
      <div class="inline-block relative">
        <div class="absolute inset-x-0 top-0 h-full bg-gradient-to-r from-pink-500 to-blue-500 blur-lg"></div>
        <h1 class="relative z-10 text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold text-white tracking-wide mx-auto">
          市販薬の成分を知ってみよう
        </h1>
      </div>
    </div>

    <div id="note-react-root"></div>

  </div>



  <div class="service-background rounded-lg shadow-md relative lg:px-10 lg:pb-10 p-2 sm:p-5">

    <h1 class="text-4xl font-bold text-gray-800 mt-16 mb-10 text-center">ジャンル一覧</h1>

    <!-- クイズセットのリスト -->
    <div id="quiz-set-list-react-root" data-quiz-sets="<%= @quiz_sets.to_json %>" data-user-signed-in="<%= user_signed_in?.to_json %>"></div>

  </div>

    <div class="bg-green-400 p-6 rounded-lg shadow-md mt-6 max-w-4xl mx-auto hover:bg-green-500">
      <%= link_to start_weak_quizzes_path, class: "block" do %>
        <h2 class="text-4xl font-bold text-gray-800 mb-2 text-center">苦手克服チャレンジ</h2>
        <p class="text-lg text-gray-700 text-center">苦手なクイズの克服にチャレンジできます。</p>
        <p class="text-lg text-gray-700 text-center">各クイズにたくさん挑戦した後にチャレンジしてください。</p>
        <% if user_signed_in? %>
          <div class="p-2 border border-sky-300 rounded-md bg-green-100 mt-2 max-w-xs mx-auto">
            <p class="text-base font-bold sm:text-xl lg:text-2xl text-center">苦手克服度:</p>
            <p class="text-xl font-bold sm:text-xl lg:text-3xl text-center"><%= @mastery_level %>%</p>
          </div>
        <% else %>
          <div class="p-2 border border-sky-300 rounded-md bg-green-100 mt-2 max-w-xs mx-auto">
            <p class="text-base font-bold sm:text-xl lg:text-2xl text-center">苦手克服度:</p>
            <p class="text-xl sm:text-xl lg:text-2xl text-center">ログインで表示</p>
          </div>
        <% end %>
      <% end %>
    </div>
    
    <div class="bg-blue-100 p-6 rounded-lg shadow-md mt-6 max-w-4xl mx-auto hover:bg-blue-200">
      <%= link_to quizzes_path, class: "block" do %>
        <h2 class="text-2xl font-bold text-gray-800 mb-2 text-center">クイズ一覧</h2>
        <p class="text-lg text-gray-700 text-center">全てのクイズを検索して見ることができます。</p>
        <p class="text-lg text-gray-700 text-center">気になったクイズがあったら、検索してみてください。</p>
      <% end %>
    </div>
</div>

<script src="/assets/top_page.js"></script>